- 数据预处理阶段需要对一些敏感数据进行数据脱敏，比如加密或去敏感词，这个操作也可以在数据采集阶段进行，但为了防止脱敏失败影响数据的采集，尽量不在采集阶段对数据进行过多的操作。
- 计算或分析依据的那个字段可以看作是维度。
- 了解数据仓库研发岗位的日常工作流程为:
1.和产品开需求评审会，了解需求(那种需求?)，进行开发排期;
2.模型设计，了解依赖关系与约束原则，与产品二次核对;
3.数据同步ETL开发，沟通其他部门(DBA)，导入数据;
4.SQL/数据处理代码开发，编写业务逻辑;
5.自测;
6.测试，测试人员检查逻辑，并核对结果准确性;
7.发布上线,加入日常监控报警。
- 建模:根据不同的统计业务需求﹒制定出比较合理的表结构和计算逻辑。
- 全量表-增量表-拉链表-流水表
  1. 全量表：每天的所有的最新状态的数据，
  2. 增量表：每天的新增数据，增量数据是上次导出之后的新数据。
  3. 拉链表：维护历史状态，以及最新状态数据的一种表，拉链表根据拉链粒度的不同，实际上相当于快照，只不过做了优化，去除了一部分不变的记录而已,通过拉链表可以很方便的还原出拉链时点的客户记录。
  4. 流水表： 对于表的每一个修改都会记录，可以用于反映实际记录的变更。 
- 实体表，事实表，维度表
  1. 实体表：实体表是一个实际对象的表，存放的数据是客观存在的事物数据，比如说各种商品。实时表只描述各个事物，并不存在具体的事实。
  2. 事实表：事实表是维度建模的核心，包含了与业务过程有关的维度引用及度量，围绕业务过程进行设计，其存储的数据是实际发生的，比如用户的行为。**事实**
  3. 维度表：维度表是维度建模的基础和灵魂，也就是维度建模时事实表关联的表。维度表围绕业务过程所处的环境进行设计，主要包含一个主键和各种维度字段。**静态的**
- 粒度：每条数据的单位
- hive中拉链表是需要分区的，每个分区内的数据都是最开始到当天的全量数据，这样也就产生了冗余，对此可以只保存最近一周分区的拉链表数据。（因为hive的表中的数据无法进行修改，故只能通过分区将最新的全量数据保存）
- 主题域的划分是针对需求对明细数据进行操作，将结果或者中间表划分到相应主题域下。
- 轻度聚合和维度表设计都在建模的范畴里。
- 分析业务需求后，构建维表时进行维度表设计，而后根据事实表和维度表关联进行维度建模，开发报表。
- 中心事实表、维度表是有模糊边界的。比如雪花模型中，事实表A关联维度表B，维度表B关联维度表C，这时对于B、C两表，B表可以作为中心事实表。
- ER建模三范式
  1. 第一范式要求确保表中每列的原子性，即不可拆分；
  2. 第二范式要求实体的属性完全依赖于主关键字；
  3. 第二范式确保每个属性都直接依赖主键，而不是依赖于其它非主属性，即在2NF的基础之上消除传递依赖。
- 为什么用雪花模型，我们的业务模型遵循三范式，表连接比较多。
- ER建模与维度建模区别：
  - ER建模以业务功能为出发构建数据模型，遵循三范式建模，规范性好，数据冗余少，但查询时可能需要多表关联导致性能受影响，比较适合OLTP系统；
  - 维度建模以分析决策的需求为出发点构建模型，面向业务开发，结构较为简单，相对关系模型更容易上手，不过数据冗余较多，适用于OLAP系统。
- OLTP系统与OLAP系统：
  - OLTP为在线联机事务，面向业务，主要应用与传统的关系型数据库，会对数据进行CRUD以及业务处理，需要事务来保证数据的安全，交互性强、速度快、数据更新快，数据规模不大；
  - OLAP为在线联机分析，面向历史，主要应用于数据仓库系统，底层是海量的历史数据，对数据分析能快速返回统计结果，交互性强且不需要事务。
- ER建模三范式：
  - 第一范式（1NF）：每一列都是不可分割的原子数据项；
  - 第二范式（2NF）：在1NF基础上，非主键属性必须完全依赖主键；
  - 第三范式（3NF）：在2NF的基础上，任何的非主属性不依赖于其他非主属性。
- sqoop增量导入和全量导入概念和场景
  - 对于数据量较大不断新增的表(订单表、开团记录表)，采用增量导入策略，通过限定导入的日期条件来实现增量导入。(拉链表：能记录历史数据，数据冗余低，查询不是很便利)
  - 对于数据量不大且变化不大的表(商品类目表、字典表)，采用全量导入。(全量快照表：统计查询方便，数据冗余度高)
- 如果sqoop和服务器不在一个网络，可开放请求权限进行数据传输。
- 拉链表回滚：本质就是过滤数据到回滚日期的前一天，比如拉链表目前在2022-08-09，要回到2022-01-02，拉链表的状态为2022-01-01，过滤数据start_dt<=2022-01-01，end_dt>=2022-01-01的改为9999-12-31。
- hdfs通过flume接收日志服务器的数据需要跳板机，通过sqoop接收mysql的数据不需要，因为sqoop本身就在hdfs上，通过服务连接MySQL。
- 宽表构建、报表开发在建模范畴里（建表--建模）。
- 标签数据导入Hbase，使用spark-rdd将数据输出为Hfile文件，使用bulkLoad导入Hbase；
- 拉链表：用户活跃拉链表、会员等级拉链表、地理位置拉链表、订单状态拉链表
- 宽表:
- 各种模型举例表
- 各主题举例表
- 数据重跑
  - 单纯重跑：任务调度系统有工作流，指定对应日期参数重跑
  - 计算错误重跑：找出错误，重跑
- HIVE中的谓词下推（下推规则同样适用于SparkSQL）：就是在不影响结果的情况下，尽量将过滤条件提前执行。谓词下推后，过滤条件在map端执行，减少了map端的输出，降低了数据在集群上传输的量，节约了集群的资源，也提升了任务的性能。[详见](https://www.cnblogs.com/Courage129/p/14175363.html#:~:text=%E4%BC%A0%E7%BB%9F%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%AD%E7%9A%84%E8%B0%93%E8%AF%8D%E4%B8%8B%E6%8E%A8%EF%BC%9A.%20%E5%9C%A8%E4%BC%A0%E7%BB%9F%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E6%9F%A5%E8%AF%A2%E7%B3%BB%E7%BB%9F%E4%B8%AD%E8%B0%93%E8%AF%8D%E4%B8%8B%E6%8E%A8%E4%BD%9C%E4%B8%BA%E4%BC%98%E5%8C%96%E6%89%8B%E6%AE%B5%E5%BE%88%E6%97%A9%E5%B0%B1%E5%87%BA%E7%8E%B0%E4%BA%86%EF%BC%8C%E8%B0%93%E8%AF%8D%E4%B8%8B%E6%8E%A8%E7%9A%84%E7%9B%AE%E7%9A%84%E5%B0%B1%E6%98%AF%E9%80%9A%E8%BF%87%E5%B0%86%E4%B8%80%E4%BA%9B%E8%BF%87%E6%BB%A4%E6%9D%A1%E4%BB%B6%E5%B0%BD%E5%8F%AF%E8%83%BD%E7%9A%84%E5%9C%A8%E6%9C%80%E5%BA%95%E5%B1%82%E6%89%A7%E8%A1%8C%E5%8F%AF%E4%BB%A5%E5%87%8F%E5%B0%91%E6%AF%8F%E4%B8%80%E5%B1%82%E4%BA%A4%E4%BA%92%E7%9A%84%E6%95%B0%E6%8D%AE%E9%87%8F%EF%BC%8C%E4%BB%8E%E8%80%8C%E6%8F%90%E5%8D%87%E6%80%A7%E8%83%BD%E3%80%82.%20%E4%BE%8B%E5%A6%82%E4%B8%8B%E9%9D%A2%E8%BF%99%E4%B8%AA%E4%BE%8B%E5%AD%90%EF%BC%9A.%20select%20count%20%28%201%29%20from,100%20%3B%20%E5%9C%A8%E5%A4%84%E7%90%86Join%E6%93%8D%E4%BD%9C%E4%B9%8B%E5%89%8D%E9%9C%80%E8%A6%81%E9%A6%96%E5%85%88%E5%AF%B9A%E5%92%8CB%E6%89%A7%E8%A1%8CTableScan%E6%93%8D%E4%BD%9C%EF%BC%8C%E7%84%B6%E5%90%8E%E5%86%8D%E8%BF%9B%E8%A1%8CJoin%EF%BC%8C%E5%86%8D%E6%89%A7%E8%A1%8C%E8%BF%87%E6%BB%A4%EF%BC%8C%E6%9C%80%E5%90%8E%E8%AE%A1%E7%AE%97%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0%E8%BF%94%E5%9B%9E%EF%BC%8C%E4%BD%86%E6%98%AF%E5%A6%82%E6%9E%9C%E6%8A%8A%E8%BF%87%E6%BB%A4%E6%9D%A1%E4%BB%B6A.a%20%3E%2010%E5%92%8CB.b%20%3C%20100%E5%88%86%E5%88%AB%E7%A7%BB%E5%88%B0A%E8%A1%A8%E7%9A%84TableScan%E5%92%8CB%E8%A1%A8%E7%9A%84TableScan%E7%9A%84%E6%97%B6%E5%80%99%E6%89%A7%E8%A1%8C%EF%BC%8C%E5%8F%AF%E4%BB%A5%E5%A4%A7%E5%A4%A7%E9%99%8D%E4%BD%8EJoin%E6%93%8D%E4%BD%9C%E7%9A%84%E8%BE%93%E5%85%A5%E6%95%B0%E6%8D%AE%E3%80%82.%20%E4%BC%98%E5%8C%96%E5%90%8E%E7%9A%84%E8%AF%AD%E5%8F%A5%E5%A6%82%E4%B8%8B%EF%BC%9A.)具体配置项是hive.optimize.ppd，默认为true，即开启谓词下推
